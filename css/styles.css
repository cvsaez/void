:root {
  --black: #000;
  --white: #fff;
  --bg: #ffffff;

  /* Offset vertical de la imagen del header */
  --header-img-offset-y: 24px;
  
  /* Color de fondo dinámico controlado por JavaScript */
  --scroll-bg: #ffffff;
  
  /* Opacidad de las imágenes del header */
  --img1-opacity: 1;
  --img2-opacity: 0;
}

* {
  box-sizing: border-box;
  margin: 0;
  padding: 0;
}

html {
  scroll-behavior: smooth;
}

body {
  font-family: 'BBH Bartle', sans-serif;
  background: var(--scroll-bg);
  color: var(--white);
  overflow-x: hidden;
  position: relative;
  transition: background-color 0.1s ease-out;
  animation: fadeIn 0.4s ease-in;
  opacity: 1;
}

@keyframes fadeIn {
  from {
    opacity: 0;
  }
  to {
    opacity: 1;
  }
}

body.page-transitioning {
  opacity: 0;
  transition: opacity 0.3s ease-out;
}

/* CONTENIDO */
header, section, footer {
  position: relative;
  z-index: 1;
}

header {
  min-height: 100vh;
  display: flex;
  flex-direction: column;
  justify-content: center;
  align-items: center;
}

.header-bg {
  position: absolute;
  inset: 0;
  z-index: -1;
  display: flex;
  justify-content: center;
  align-items: center;
  padding: 20px;
}

.header-image {
  max-width: 60vw;
  width: auto;
  height: auto;
  object-fit: contain;
  transform: translateY(var(--header-img-offset-y, 0px));
  position: absolute;
  transition: opacity 0.1s ease-out;
}

.header-image-1 {
  opacity: var(--img1-opacity);
}

.header-image-2 {
  opacity: var(--img2-opacity);
}

h1 {
  font-size: clamp(4rem, 12vw, 10rem);
  color: #fff;
}

h1.subtitle-white {
  color: #fff;
}

section {
  padding: 100px 10vw;
}

section h2 + * {
  font-family: 'BBH Bogle', sans-serif;
  font-size: 1.25rem;
}

footer {
  padding: 60px 10vw;
  border-top: 2px solid currentColor;
}

.tagline {
  color: #000;
}

/* NAV */
nav {
  position: sticky;
  top: 0;
  z-index: 2;
  display: flex;
  gap: 20px;
  align-items: center;
  padding: 16px 10vw;
  background: rgba(0,0,0,0.6);
  backdrop-filter: blur(6px);
}
nav a { text-decoration: none; color: inherit; transition: opacity 0.2s ease; }
nav a:hover { opacity: 0.7; }
nav #cart-button { margin-left: auto; border: 1px solid #fff; background: transparent; padding: 6px 10px; cursor: pointer; font-family: 'BBH Bogle', sans-serif; font-size: 1.1rem; color: #fff; transition: all 0.2s ease; }
nav #cart-button:hover { background: rgba(255, 255, 255, 0.1); }

/* SHOP GRID */
.products {
  display: grid;
  grid-template-columns: repeat(2, minmax(220px, 1fr));
  gap: 28px;
  margin-top: 28px;
}
.product-card { border: 1px solid #fff; transition: transform 0.3s ease, box-shadow 0.3s ease; }
.product-card:hover { transform: translateY(-4px); box-shadow: 0 4px 12px rgba(255, 255, 255, 0.1); }
.product-card .product-link { display: block; color: inherit; text-decoration: none; padding: 16px; }
.product-card .product-link:has(.card-carousel) { padding: 0; }
.product-card .product-link:has(.card-carousel) h3,
.product-card .product-link:has(.card-carousel) .price { padding: 0 16px; }
.product-card .product-link:has(.card-carousel) .price { padding-bottom: 16px; }
.product-card .thumb { height: 220px; background: #2a2a2a; border: 1px dashed #666; }

/* Carrusel en tarjetas de producto */
.card-carousel {
  position: relative;
  width: 100%;
  aspect-ratio: 1;
  overflow: hidden;
  background: #141414;
}

.card-carousel-container {
  position: relative;
  width: 100%;
  height: 100%;
}

.card-carousel-item {
  position: absolute;
  inset: 0;
  opacity: 0;
  transition: opacity 0.3s ease;
}

.card-carousel-item.active {
  opacity: 1;
}

.card-carousel-item img,
.card-carousel-item video {
  width: 100%;
  height: 100%;
  object-fit: cover;
}

.card-carousel-btn {
  position: absolute;
  top: 50%;
  transform: translateY(-50%);
  background: rgba(255, 255, 255, 0.15);
  border: 1px solid #fff;
  color: #fff;
  font-size: 1.75rem;
  font-family: 'BBH Bogle', sans-serif;
  width: 32px;
  height: 32px;
  display: flex;
  align-items: center;
  justify-content: center;
  cursor: pointer;
  z-index: 5;
  transition: background 0.2s;
  backdrop-filter: blur(4px);
  opacity: 0;
}

.card-carousel:hover .card-carousel-btn {
  opacity: 1;
}

.card-carousel-btn:hover {
  background: rgba(255, 255, 255, 0.3);
}

.card-carousel-prev {
  left: 8px;
}

.card-carousel-next {
  right: 8px;
}
.product-card h3 { margin-top: 12px; font-size: 1.2rem; }
.product-card .price { margin-top: 6px; font-size: 1.2rem; font-family: 'BBH Bogle', sans-serif; }

/* PRODUCT PAGE */
.product { display: grid; grid-template-columns: 1.3fr 1fr; gap: 40px; padding: 60px 10vw; }

/* CARRUSEL DE MEDIOS */
.media-carousel {
  position: relative;
  width: 100%;
  overflow: hidden;
}

.media-container {
  position: relative;
  width: 100%;
  aspect-ratio: 1;
  background: #141414;
  border: 1px solid #fff;
}

.media-item {
  position: absolute;
  inset: 0;
  opacity: 0;
  transition: opacity 0.3s ease;
  display: flex;
  align-items: center;
  justify-content: center;
}

.media-item.active {
  opacity: 1;
}

.media-item img,
.media-item video {
  width: 100%;
  height: 100%;
  object-fit: cover;
}

.carousel-btn {
  position: absolute;
  top: 50%;
  transform: translateY(-50%);
  background: rgba(255, 255, 255, 0.1);
  border: 1px solid #fff;
  color: #fff;
  font-size: 2.25rem;
  font-family: 'BBH Bogle', sans-serif;
  width: 48px;
  height: 48px;
  display: flex;
  align-items: center;
  justify-content: center;
  cursor: pointer;
  z-index: 10;
  transition: background 0.2s;
  backdrop-filter: blur(4px);
}

.carousel-btn:hover {
  background: rgba(255, 255, 255, 0.2);
}

.carousel-prev {
  left: 16px;
}

.carousel-next {
  right: 16px;
}

.media-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 16px; }
.media-grid img, .media-grid video { width: 100%; height: auto; border: 1px solid #fff; background: #141414; }
.product-info h1 { font-size: clamp(2rem, 6vw, 3rem); }
.product-info .subtitle { color: #888; font-size: 1.2rem; margin-top: -10px; margin-bottom: 20px; }
.product-info .price { margin: 8px 0 14px; font-family: 'BBH Bartle', sans-serif; font-size: 1.2rem; }
.product-info .size-info { color: #aaa; font-family: 'BBH Bogle', sans-serif; font-size: 0.95rem; margin-bottom: 16px; letter-spacing: 0.5px; }
.product-info .desc { margin-bottom: 20px; max-width: 45ch; font-family: 'BBH Bogle', sans-serif; font-size: 1.15rem; }
.actions { display: flex; gap: 12px; }
.btn { border: 1px solid #fff; background: transparent; padding: 10px 14px; text-decoration: none; color: inherit; cursor: pointer; font-family: 'BBH Bogle', sans-serif; font-size: 1.1rem; transition: all 0.25s ease; }
.btn:hover { transform: translateY(-1px); box-shadow: 0 2px 8px rgba(255, 255, 255, 0.2); }
.btn.primary { background: #fff; color: #000; }
.btn.primary:hover { background: #f0f0f0; }
.btn.ghost { background: transparent; }
.btn.ghost:hover { background: rgba(255, 255, 255, 0.1); }

/* CART OVERLAY */
.cart-overlay { position: fixed; inset: 0; background: rgba(0,0,0,0.4); display: none; place-items: center; z-index: 3; opacity: 0; transition: opacity 0.3s ease; }
.cart-overlay:not([hidden]) { display: grid; opacity: 1; }
.cart-panel { width: min(560px, 90vw); background: #0f0f0f; color: #fff; border: 1px solid #fff; font-family: 'BBH Bogle', sans-serif; font-size: 1.1rem; transform: translateY(20px); transition: transform 0.3s ease; }
.cart-overlay:not([hidden]) .cart-panel { transform: translateY(0); }
.cart-header { display: flex; justify-content: space-between; align-items: center; padding: 12px 14px; border-bottom: 1px solid #fff; }
.cart-items { padding: 12px 14px; max-height: 40vh; overflow: auto; }
.cart-footer { display: flex; justify-content: space-between; align-items: center; padding: 12px 14px; border-top: 1px solid #fff; }
.cart-item { display: flex; justify-content: space-between; align-items: center; padding: 10px 0; border-bottom: 1px dotted #ddd; }
.ci-main { flex: 1; }
.ci-title { font-size: 1rem; margin-bottom: 4px; }
.ci-meta { font-size: 0.9rem; color: #aaa; }
.ci-controls { display: flex; align-items: center; gap: 8px; }
.ci-qty-btn { border: 1px solid #fff; background: transparent; padding: 4px 10px; cursor: pointer; color: #fff; font-family: 'BBH Bogle', sans-serif; font-size: 1rem; transition: all 0.2s ease; min-width: 32px; }
.ci-qty-btn:hover { background: rgba(255, 255, 255, 0.1); }
.ci-qty { font-family: 'BBH Bogle', sans-serif; min-width: 24px; text-align: center; }
.ci-remove { border: 1px solid #ff4444; background: transparent; padding: 4px 10px; cursor: pointer; color: #ff4444; font-family: 'BBH Bogle', sans-serif; font-size: 1.2rem; transition: all 0.2s ease; min-width: 32px; line-height: 1; }
.ci-remove:hover { background: #ff4444; color: #fff; }
.empty { padding: 20px 0; color: #555; }

/* CHECKOUT */
.checkout { padding: 60px 10vw; }
.checkout h1 { font-size: clamp(2rem, 6vw, 3rem); }
.checkout-content { max-width: 800px; }
.checkout-section { margin-bottom: 40px; }
.section-title { font-size: 1.5rem; margin-bottom: 20px; color: #fff; }

/* Shipping Form */
.shipping-form { display: flex; flex-direction: column; gap: 16px; }
.form-group { display: flex; flex-direction: column; gap: 6px; }
.form-row { display: grid; grid-template-columns: 1fr 1fr; gap: 16px; }
.form-group label { font-family: 'BBH Bogle', sans-serif; font-size: 0.95rem; color: #aaa; }
.form-group input,
.form-group select { 
  padding: 10px 12px; 
  background: #1a1a1a; 
  border: 1px solid #444; 
  color: #fff; 
  font-family: 'BBH Bogle', sans-serif; 
  font-size: 1rem;
  transition: border-color 0.2s ease;
}
.form-group input:focus,
.form-group select:focus { 
  outline: none; 
  border-color: #fff; 
}
.form-group input::placeholder { color: #666; }

/* Order Summary */
.summary-list { border: 1px solid #fff; padding: 12px; margin-bottom: 16px; }
.s-row { display: flex; justify-content: space-between; align-items: center; padding: 12px 0; border-bottom: 1px dotted #666; }
.s-item-info { flex: 1; }
.s-item-title { font-size: 1rem; margin-bottom: 4px; }
.s-item-price { font-size: 0.9rem; color: #aaa; }
.s-item-controls { display: flex; align-items: center; gap: 8px; }
.s-qty-btn { border: 1px solid #fff; background: transparent; padding: 4px 10px; cursor: pointer; color: #fff; font-family: 'BBH Bogle', sans-serif; font-size: 1rem; transition: all 0.2s ease; min-width: 32px; }
.s-qty-btn:hover { background: rgba(255, 255, 255, 0.1); }
.s-qty { font-family: 'BBH Bogle', sans-serif; min-width: 24px; text-align: center; }
.s-remove { border: 1px solid #ff4444; background: transparent; padding: 4px 10px; cursor: pointer; color: #ff4444; font-family: 'BBH Bogle', sans-serif; font-size: 1.2rem; transition: all 0.2s ease; min-width: 32px; line-height: 1; }
.s-remove:hover { background: #ff4444; color: #fff; }

.shipping-cost,
.order-total { 
  display: flex; 
  justify-content: space-between; 
  padding: 12px 0; 
  font-family: 'BBH Bogle', sans-serif;
  font-size: 1.1rem;
}
.order-total { 
  font-weight: 600; 
  font-size: 1.3rem; 
  border-top: 2px solid #fff; 
  margin-top: 8px; 
  padding-top: 16px;
}

.checkout-actions { margin-top: 24px; display: flex; flex-direction: column; gap: 12px; }
#paypal-button-container { width: 100%; max-width: 400px; }
.note { margin-top: 16px; color: #555; }
